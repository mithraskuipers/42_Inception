# This configuration file is for an Nginx server listening on port 443 (HTTPS) with SSL enabled. It specifies the server name and document root. The index file is set to index.php. SSL certificate and key files are provided. TLS protocols (TLSv1.2 and TLSv1.3) are specified. SSL session timeout and keepalive timeout values are set. The block includes a location directive for handling PHP files. FastCGI parameters are set, including the script filename and path info. The request is passed to the PHP FastCGI process running on the wordpress container. FastCGI index is set to index.php. Common FastCGI parameters are included. The request URI is split to extract the script filename and path info.

# Listen on port 443 (HTTPS) and enable SSL
server {
    listen      443 ssl;

    # Server name that should match the domain name in the certificate
    server_name mikuiper.42.fr www.mikuiper.42.fr;

    # The document root for this server block
    root    /var/www/;

    # Specify the default index file
    index index.php;

    # SSL certificate and key files
    ssl_certificate     /etc/nginx/ssl/mikuiper.42.fr.crt;
    ssl_certificate_key /etc/nginx/ssl/mikuiper.42.fr.key;

    # SSL protocols that should be used
    ssl_protocols       TLSv1.2 TLSv1.3;

    # Session timeout for SSL connections
    ssl_session_timeout 10m;

    # Keepalive timeout for connections
    keepalive_timeout 70;

	# Without this section, requests for PHP files would not be handled correctly.

    # Configure PHP processing
	#location ~* \.php$ {
		# Set the FastCGI parameters for processing PHP scripts
		#fastcgi_param SCRIPT_FILENAME $document_root$fastcgi_script_name;
		#fastcgi_param PATH_INFO       $fastcgi_path_info;

		# Pass the request to the PHP FastCGI process
		#fastcgi_pass  wordpress:9000;
		#fastcgi_index index.php;

		# Include common FastCGI parameters
		#include       fastcgi_params;

		# Split the request URI to get the script filename and path info
		#fastcgi_split_path_info ^(.+\.php)(/.*)$;
	#}
}
